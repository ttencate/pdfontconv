<!DOCTYPE html>
<html>
    <head>
        <title>pdfontconv: PlayDate font conversion tool</title>
        <link rel="stylesheet" href="style.css">
        <meta name="viewport" content="initial-scale=1" />
        <style id="fontStyle"></style>
    </head>
    <body>
        <header class="columns">
            <div class="column column-25">
                <h1>pdfontconv</h1>
            </div>
            <div class="column column-grow">
                <p>Converts TTF, OTF and WOFF2 fonts into <code>.fnt</code> files for use on the <a href="https://play.date">PlayDate</a></p>
            </div>
            <div class="column column-25 small">
                Made by <a href="https://frozenfractal.com/">Frozen Fractal</a>. Source code and documentation on <a href="https://github.com/ttencate/pdfontconv">GitHub</a>.
            </div>
        </header>
        <main class="columns">
            <div class="column column-25">
                <h2>Font settings</h2>
                <label>
                    Font file (TTF, OTF, WOFF, WOFF2):<br>
                    <input id="fontFileInput" type="file" class="full-width">
                </label>
                <label>
                    Base name for output files:<br>
                    <input id="baseNameInput" type="text" class="full-width">
                </label>
                <label>
                    Font size:<br>
                    <input id="fontSizeInput" type="number" min="5" value="24" class="full-width">
                </label>
                <label>
                    Opacity threshold:<br>
                    <input id="opacityThresholdInput" type="number" min="1" max="255" value="128" class="full-width">
                </label>
                <label>
                    Character set:<br>
                    <textarea id="charSetTextarea" rows="5" class="full-width"></textarea>
                </label>
            </div>
            <div class="column column-grow">
                <h2>Output PNG</h2>
                <label>
                    Show at scale:
                    <input id="displayScaleInput" type="number" min="1" max="4" value="1">
                </label>
                <div class="scroll-x scroll-y position-relative max-height-50">
                    <canvas id="debugCanvas" class="position-absolute"></canvas>
                    <canvas id="fontCanvas" class="position-relative"></canvas>
                </div>
                <p class="small">Background is informational only; actual output is transparent. Red: glyph bounding box from input font. Blue: negative tracking (overlap with previous character). Blue + green: extent of character drawn.</p>

                <h2>Sample text</h2>
                <label>
                    <input id="sampleTextInput" type="text", value="The quick brown fox jumps over the lazy dog." class="full-width">
                </label>
                <div class="scroll-x scroll-y">
                    <p>
                        Rendering by browser:<br>
                        <span id="sampleTextElement" class="grey-background no-wrap position-relative"></span>
                    </p>
                    <p>
                        Rendering on PlayDate:<br>
                        <canvas id="sampleTextCanvas" class="grey-background"></canvas>
                    </p>
                    <p class="small">Due to the way characters are overlapped using negative tracking, there may be some blank space at the beginning and/or end of the text rendered on the PlayDate.</p>
                </div>
            </div>
            <div class="column column-25">
                <h2>Save</h2>
                <p>
                    <button id="downloadFntButton">Download <code>.fnt</code></button>
                    <button id="downloadPngButton">Download <code>.png</code></button>
                </p>
            </div>
        </main>
        <script src="main.js"></script>
    </body>
</html>
